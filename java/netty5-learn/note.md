## nio 编程需要考虑到问题
- 半包读写
- 编解码
- IO 线程上下文切换
- 异常处理
- 线程池的处理


## 应用层网络协议的设计

TCP 以流的方式进行数据传输，上层应用协议为了对消息进行区分，往往采用如下 4 中方式:

(1) 消息长度固定，累计读到长度总和为 定长 LEN 的报文后，就认为读取到了一个完整的消息；将计数器置位，重新开始读取下一个数据包。

(2) 将特殊的分隔符作为消息的结束标志。如 FTP 协议，就是回车换行符作为消息结束符。

(3) 通过在消息头中定义长度字段来标识消息的总长度。

